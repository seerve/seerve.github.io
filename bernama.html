<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Shaka Player Stable</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="noindex, nofollow, noarchive" name="robots"/>
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/controls.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/shaka-player.ui.min.js"></script>

<style>
html,body{margin:0;background:black;height:100%}
#player-container{width:100vw;height:100vh}
video{width:100%;height:100%}
</style>
</head>

<body>

<div id="player-container" data-shaka-player-container>
  <video id="video" autoplay playsinline data-shaka-player></video>
</div>

<script>
const manifestUri =
"https://unifi-live2.secureswiftcontent.com/Content/DASH/Live/channel(bernama)/master.mpd";

document.addEventListener('shaka-ui-loaded', async () => {

  const video = document.getElementById('video');
  const ui = video['ui'];
  const controls = ui.getControls();
  const player = controls.getPlayer();

  player.configure({
    drm: {
      clearKeys: {
        '0c588bd14a1049eea04db9eea80e6c68': '57a5147c8537d8c7fead448d2a9587c7'
      }
    }
  });

  try {
    await player.load(manifestUri);
    console.log("STREAM OK");
  } catch (e) {
    console.error("LOAD ERROR", e);
  }
});
</script>

</body>
</html>
